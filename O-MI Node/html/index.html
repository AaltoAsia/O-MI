<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Sensor form</title>
<link type="text/css" rel="stylesheet" href="/testclient/CSS/form.css" />
<script type="text/javascript" src="/testclient/JS/jquery-2.1.1.js"></script>
</head>

<body>
	<script>
		console.log(document.URL);
	</script>
	<script>
		/* What to do with the form submissal */
		function submit() {
			var sensorID = $("#sensorId").val();
			var loc = $("#location").val();

			$.ajax({
				type : "GET",
				url : "/testclient/SensorData/test" + sensorID + ".html",
				dataType: "json",
				success : function(d) {
					console.log("SUCCESS");
					var data = d;
					
					var canvas = $("#infoCanvas");
					var ctx = canvas.getContext("2d");
					ctx.fillStyle = "Yellow";
					ctx.font = "bold 16px Arial";
					ctx.fillText(data, 20, 20);
				},
				complete : function(d) {
					console.log("Complete");
				},
				error : function(error, textStatus, et) {
					console.log("error");
				}
			});
		}
	</script>
	<form id="form" method="post" action="javascript:submit();">
		<label>Sensor ID:</label><br> 
		<input type="text" id="sensorId"><br> 
		<label>Location</label><br>
		<select name="location" id="location">
			<option>T-Talo</option>
			<option>Test</option>
		</select><br> <input type="submit" value="Get Data" id="submit">
	</form>

	<canvas id="infoCanvas">
	</canvas>
</body>
</html>